<div id="density"></div>

<div id="vector-phi1">\( \phi_1 \)</div>
<div id="vector-phi2">\( \phi_2 \)</div>
<div id="vector-phi3">\( \phi_3 \)</div>

<script>
    var d3 = require("d3")

    import { onMount } from 'svelte';
    import * as tf from '@tensorflow/tfjs'
    import { CoordinateConversions } from './util/CoordinateConversions.js'
    import { VectorGroup } from './util/VectorGroup.js'

    const margin = { top: 20, right: 30, bottom: 30, left: 40 }
    const width = 400, height = 400
    const xrange = [1, 4], yrange = [1, 6]

    onMount(() => {
        var coordinateConversions = new CoordinateConversions(margin, width, height, xrange, yrange)

        var svg = d3.select('#density').append('svg')
            .attr("width", width)
            .attr("height", height)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")")


        var defaultVectors = [
            { id: "vector-phi1", x: 2.7, y: 3.5 },
            { id: "vector-phi2", x: 2.3, y: 4.5 },
            { id: "vector-phi3", x: 4.0, y: 3.4 }
        ]

        var vectorGroup = new VectorGroup(svg, { x: 3.15, y: 4.15 }, defaultVectors, coordinateConversions)

        vectorGroup.declare().animate()
    })
</script>