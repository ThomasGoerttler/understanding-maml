<div class="container">
  {#each plots as plot}
    <div class="col">
      <Chart width=300 height=300>
        <Axis>
          <ContourPlot lossFunc={plot.loss} logScale={plot.logScale} />
          <Handle bind:position={theta} bind:isHovered={plot.hovered}>
            <Latex value="\theta" style="color: white; font-size:1em; opacity: {plot.hovered ? '0' : '1'}" />
            <Latex value="\theta" style="color: white; font-size:1.4em; opacity: {plot.hovered ? '1' : '0'}" />
          </Handle>
        </Axis>
      </Chart>
    </div>
	{/each}
</div>

<style>
  .container {
    display: grid;
    grid-template-columns: auto auto;
  }
</style>


<script>
  import * as d3 from 'd3';
  import { onMount } from 'svelte';
  import {loss_1, loss_2, loss_3, loss_4} from './util/loss';

  import Chart from './chart.html'
  import ContourPlot from './contourPlot.html'
  import Axis from './axis.html'
  import Handle from './handle.html'
  import Latex from './latex.html'

  export let theta = [0.5, 0.5]

  let plots = [
    {loss: loss_1, hovered: false, logScale: false},
    {loss: loss_2, hovered: false, logScale: true},
    {loss: loss_3, hovered: false, logScale: true},
    {loss: loss_4, hovered: false, logScale: true},
  ]
</script>
