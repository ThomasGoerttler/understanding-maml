<script>
  import Handle from './handle.html'
  import Latex from './latex.html'

  export let value = ""
  export let position

  export let withPoint = true

  export let offset = [-20, -10]

  let otherProps

  $: {
    ({...otherProps} = $$props)

    delete otherProps["value"]
    delete otherProps["hovered"]
    delete otherProps["position"]
    delete otherProps["withPoint"]
    delete otherProps["offset"]
  }

  let transform = ""

  $: {
    transform = `translate(${offset[0]}, ${offset[1]})`
  }
</script>

<Handle bind:position={position} let:isHovered={hovered} {...otherProps}>
  {#if withPoint}
    <g transform={transform}>
      <Latex {value} style="color: white; font-size: {hovered ? '1.2em' : '1em'}" />
    </g>

    <circle stroke="none" fill="white" class="circleMarker"
            r="{hovered ? 2 : 1}"
            cx=0 cy=0 />
  {:else}
    <Latex {value} style="color: white; font-size: {hovered ? '1.2em' : '1em'}" />
  {/if}
</Handle>
